from apimatic_core_interfaces.http.http_request import HttpRequest
from apimatic_core_interfaces.http.http_response import HttpResponse
from pydantic import validate_call

from apimatic_core.http.http_callback import HttpCallBack


class HttpResponseCatcher(HttpCallBack):

    """A class used for catching the HttpResponse object from controllers.
    
    This class inherits HttpCallBack and implements the on_after_response
    method to catch the HttpResponse object as returned by the HttpClient
    after a request is executed.

    """
    response: Optional[HttpResponse] = None

    @validate_call
    def on_before_request(self, request: HttpRequest):
        pass

    @validate_call
    def on_after_response(self, response: HttpResponse):
        self.response = response



